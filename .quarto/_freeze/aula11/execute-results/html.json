{
  "hash": "f42ab9c17a2642f6b2eeb9470bb89d28",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Aula11\"\nformat: html\neditor: visual\n---\n\n\n# Criação de mapas\n\nUtiliza-se os pacotes *rnaturalearth*, *rnaturalearthhires*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rnaturalearth)\nlibrary(rnaturalearthhires)\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nworld <- ne_countries()\n\nBRA <- ne_states(country = \"Peru\",\n                 returnclass = \"sf\")\n\nworld <- ne_countries()\n\nggplot(BRA) +\n  geom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Colombia\",\n                 returnclass = \"sf\")\nBRA <- ne_states(country = \"Brazil\",\n                 returnclas = \"sf\")\n\nBRA <- ne_countries(country = \"Brazil\",\n                 returnclas = \"sf\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nword <- ne_countries()\n\nggplot(BRA) +\n  geom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nworld <- ne_countries()\n\nggplot(BRA) +\n  geom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(BRA) +\n  geom_sf(fill = \"black\",\n          color = \"yellow\",\n          linewidth =1)\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-3-3.png){width=672}\n:::\n\n```{.r .cell-code}\nMG <- BRA %>% \n  filter(name_en == \"Minas Gerais\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(r4pde)\n\nsbr <- RustSoybean\n\n\nsbr |> \n  ggplot(aes(longitude, latitude)) +\n  geom_point() +\n  coord_sf()\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggthemes)\nggplot(BRA) +\n  geom_sf(fill = \"black\", \n          color = \"yellow\",\n          linewidth = 0.1)+\n  geom_sf(data = MG, fill = \"white\")+\n  geom_point(data = sbr, aes(longitude, latitude),\n             color= \"red\")+\n  theme_map()\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nBRA <- ne_states(country = \"Brazil\",\n                 returnclass = \"sf\")\n\nworld <- ne_countries()\nggplot(BRA) +\n  geom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(BRA) +\n  geom_sf(fill = \"black\",\n          color = \"yellow\",\n          linewidth =1) +\n  geom_point(data = sbr, aes(longitude, latitude),\n             color = \"white\") +\n  theme_map()\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-5-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(BRA)  +\n  geom_sf(data = MG, fill = \"white\") +\n geom_point(data = sbr, aes(longitude, latitude),\n            color = \"red\") +\n  theme_map()\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-5-4.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggspatial)\n\nggplot(BRA) +\n  geom_sf(fill = \"white\")\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(BRA) +\n  geom_sf(fill = \"black\",\n          color = \"white\",\n          linewidth = 0.3) +\n # geom_sf(data = MG, fill = \"white\") +\n  geom_point(data = sbr, aes(longitude, latitude),\n             color = \"white\") +\n  theme_map() +\n  annotation_north_arrow(which_north = \"grid\")\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbra <-ggplot(BRA) +\n  geom_sf(fill = \"black\",\n          color = \"white\",\n          linewidth = 1) +\n geom_sf(data = MG, fill = \"black\") +\n  geom_point(data = sbr, aes(longitude, latitude),\n             color = \"white\") +\n  theme_map() +\n  annotation_north_arrow(which_north = \"grid\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\nleaflet() |> \n  addTiles() |>\nsetView(lng = -42.8825 , lat = -20.7546, zoom = 15)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-a98ecd6f824fc4bb8d44\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a98ecd6f824fc4bb8d44\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]}],\"setView\":[[-20.7546,-42.8825],15,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\nleaflet() |> \n  addProviderTiles(providers$Esri.NatGeoWorldMap) |> \n  setView(lng = -42.8825 , lat = -20.7546, zoom = 5)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-277e1d50e993946f39c4\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-277e1d50e993946f39c4\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addProviderTiles\",\"args\":[\"Esri.NatGeoWorldMap\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]}],\"setView\":[[-20.7546,-42.8825],5,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\nleaflet(sbr) |> \n  addTiles() |> \n  setView(lng = -42.8825 , lat = -20.7546, zoom = 5) |> \n  addMarkers()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item\" id=\"htmlwidget-440ffd97d0bbb0f5bead\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-440ffd97d0bbb0f5bead\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addMarkers\",\"args\":[[-23.0418,-24.0438,-15.5454,-13.3426,-13.3426,-25.3889,-29.2294,-12.0807,-12.0807,-23.3197,-23.3197,-23.3197,-21.6304,-17.4468,-25.4197,-25.4197,-25.4197,-28.2623,-26.2292,-22.741,-25.0996,-22.5373,-7.3649,-17.7896,-17.7896,-17.7896,-16.4655,-16.4655,-16.4655,-16.4655,-13.4474,-13.4474,-19.746,-19.746],[-50.0737,-52.3811,-55.1655,-44.6357,-44.6357,-51.4613,-53.6827,-45.7787,-45.7787,-51.1662,-51.1662,-51.1662,-55.1596,-51.1762,-50.0004,-50.0004,-50.0004,-52.4103,-52.6696,-47.1743,-50.1584,-55.7282,-46.6233,-50.9205,-50.9205,-50.9205,-54.6387,-54.6387,-54.6387,-54.6387,-56.7212,-56.7212,-47.934,-47.934],null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"setView\":[[-20.7546,-42.8825],5,[]],\"limits\":{\"lat\":[-29.2294,-7.3649],\"lng\":[-56.7212,-44.6357]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scatterpie)\nmapa <- gsheet::gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1pAIFKsdKxk_UQQXdYwIO-O5NOkYNhpclImJcLziYnk4/edit?gid=50258992#gid=50258992\")\nlibrary(ggrepel)\nBra_2 <- ggplot(BRA) +\n  geom_sf(fill = \"white\", color = \"black\", linewidth = 0.5) +\n  coord_sf()+\n  geom_point(data = mapa, aes(lon, lat))+\n  geom_scatterpie(aes(x=lon, y=lat, r = 0.6),\n                  alpha = 0.8, color = NA, data = mapa,\n                  cols = c (\"DFC\",\n                            \"MA\",\n                            \"FER\",\n                            \"ANTR\",\n                            \"OIDIO\"))+\n  geom_text_repel(data = mapa, aes(lon, lat, label = Local),\n                  size = 2, nudge_x = 0.2, nudge_y = 0.27, color = 'gray30', family = \"Arial\")+\n  ggthemes::scale_fill_calc()+\n  ggthemes::theme_map()+\n  labs(x = \"Longitude\", y = \"Laititude\", legend = \"\", fill = \"Doença\")+\n  theme(legend.position = \"bottom\", text = element_text(family = \"Arieal\", size = 8))\n\n\n\nggplot(BRA) +\n  geom_sf(fill = \"gray70\", alpha = 0.5, color = \"white\") +\n  coord_sf()+\n  geom_scatterpie(aes(x = lon, y = lat, r = 0.6), alpha = 0.8, color = NA, data = mapa,\n                  cols = c(\"DFC\",\n                           \"MA\",\n                           \"FER\",\n                           \"ANTR\",\n                           \"OIDIO\"))+\n  geom_text_repel(data = mapa, aes(lon, lat, label = Local),\n                   size = 2, nudge_x = 0.2, nudge_y = 0.27, color = \"gray30\", family = \"Arial\") +\n  ggthemes::scale_fill_calc()+\n  ggthemes::theme_map() +\n  labs(x = \"Longitude\", y = \"Latitude\", legend = \"\", fill = \"Doença\")+\n  theme(legend.position = \"bottom\", text = element_text(family = \"Arial\", size = 8))\n```\n\n::: {.cell-output-display}\n![](aula11_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/leaflet-binding-2.2.2/leaflet.js\"></script>\n<script src=\"site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js\"></script>\n<script src=\"site_libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}