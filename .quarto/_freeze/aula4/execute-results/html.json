{
  "hash": "cb612ce446a10a54d4df6cf91ce8b8c9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Outros gráficos\"\nformat: html\neditor: visual\n---\n\n\n## Carregando dados do datapasta e de outros sites\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncomp <- c(9,\n  12.5,\n  10,\n  8,\n  13.2,\n  11,\n  10.8,\n  9.5,\n  10.8,\n  10.4,\n  13.72,\n  15.91,\n  15.7,\n  14.2,\n  15.9,\n  16.54,\n  18,\n  14.4,\n  16.41,\n  16)\ndata.table::data.table(\n              trat = c(\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",                     \"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"Mg2\",\"control\",                     \"control\",\"control\",\"control\",\"control\",\"control\",\"control\",\n                       \"control\",\"control\",\"control\"),\n               rep = c(1L,2L,3L,4L,5L,6L,7L,8L,\n                       9L,10L,1L,2L,3L,4L,5L,6L,7L,8L,9L,10L),\n              comp = c(9,12.5,10,8,13.2,11,10.8,\n                       9.5,10.8,10.4,13.72,15.91,15.7,14.2,15.9,16.54,\n                       18,14.4,16.41,16)\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       trat   rep  comp\n     <char> <int> <num>\n 1:     Mg2     1  9.00\n 2:     Mg2     2 12.50\n 3:     Mg2     3 10.00\n 4:     Mg2     4  8.00\n 5:     Mg2     5 13.20\n 6:     Mg2     6 11.00\n 7:     Mg2     7 10.80\n 8:     Mg2     8  9.50\n 9:     Mg2     9 10.80\n10:     Mg2    10 10.40\n11: control     1 13.72\n12: control     2 15.91\n13: control     3 15.70\n14: control     4 14.20\n15: control     5 15.90\n16: control     6 16.54\n17: control     7 18.00\n18: control     8 14.40\n19: control     9 16.41\n20: control    10 16.00\n       trat   rep  comp\n```\n\n\n:::\n\n```{.r .cell-code}\ntibble::tribble(\n           ~Paises, ~Visitas,\n          \"Brazil\",     4303,\n      \"Mozambique\",       43,\n        \"Portugal\",       33,\n   \"United States\",       23,\n          \"Angola\",       19,\n           \"Spain\",       16,\n       \"(not set)\",       12,\n        \"Colombia\",        8,\n         \"Germany\",        5,\n         \"Hungary\",        5,\n  \"United Kingdom\",        5,\n     \"Netherlands\",        4,\n         \"Ecuador\",        3,\n          \"France\",        3,\n           \"Chile\",        2,\n        \"Paraguay\",        2,\n            \"Peru\",        2,\n       \"Argentina\",        1,\n         \"Austria\",        1,\n         \"Bolivia\",        1,\n      \"Cape Verde\",        1,\n           \"China\",        1,\n           \"Egypt\",        1,\n         \"Finland\",        1,\n           \"India\",        1,\n           \"Italy\",        1,\n        \"Malaysia\",        1,\n        \"Pakistan\",        1,\n          \"Poland\",        1,\n       \"Singapore\",        1,\n     \"Timor-Leste\",        1,\n         \"Uruguay\",        1\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 32 × 2\n   Paises        Visitas\n   <chr>           <dbl>\n 1 Brazil           4303\n 2 Mozambique         43\n 3 Portugal           33\n 4 United States      23\n 5 Angola             19\n 6 Spain              16\n 7 (not set)          12\n 8 Colombia            8\n 9 Germany             5\n10 Hungary             5\n# ℹ 22 more rows\n```\n\n\n:::\n:::\n\n\n# Carregando os dados usando o **tribble**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\npepper <- \n  tribble(\n   ~t,  ~`1`,  ~`2`,  ~`3`,\n   0,  0.08, 0.001, 0.001,\n   7,  0.13,  0.01, 0.001,\n  14,  0.78,  0.09,  0.01,\n  21,  0.92,  0.25,  0.05,\n  28,  0.99,   0.8,  0.18,\n  35, 0.995,  0.98,  0.34,\n  42, 0.999,  0.99,  0.48,\n  49, 0.999, 0.999,  0.74\n  )\n```\n:::\n\n\n## Variação da Incidência de Epidemias ao Longo do Tempo\n\nO gráfico permite visualizar como as diferentes epidemias variam ao longo do tempo. As linhas conectam os pontos de incidência, revelando se há tendências crescentes, decrescentes ou estáveis ao longo dos períodos observados. As cores distintas permitem comparar facilmente as diferentes epidemias ou condições.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npepper %>% \n  pivot_longer(2:4,\n               names_to= \"epidemic\",\n               values_to=\"inc\") %>% \n  ggplot(aes(t,inc, color= epidemic))+\n  geom_point()+\n  geom_line()+\n  annotate(geom=\"text\",\n           x=10,\n           y=0.75,\n           label=\"1\")+\n  annotate(geom=\"text\",\n           x=25,\n           y=0.75,\n           label=\"2\")+\n  annotate(geom=\"text\",\n           x=47,\n           y=0.75,\n           label=\"3\")+\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n## Tabela de contigência\n\nQuando há duas variáveis cruzando, pode ser utilizado um pacote chamado **janitor**, com a função **tabyl**, que cruza os dados e é contado as combinações presentes no conjunto de dados.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncr <- read_csv(\"https://raw.githubusercontent.com/emdelponte/paper-coffee-rust-Ethiopia/master/data/survey_clean.csv\")\ncr %>% \n  count(farm_management, cultivar) %>% \n   ggplot(aes(cultivar, n, fill=farm_management))+\n  geom_col(position = \"dodge\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\ncr %>% \n  tabyl(cultivar, farm_management)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n cultivar Intensive Minimal Moderate Unmanaged\n Improved        83       0        0         0\n    Local         0      10        4       102\n  Mixture        82      59       65         0\n```\n\n\n:::\n:::\n\n\n## Distribuição de Práticas de Gestão Agrícola por Tipo de Cultivar de Café\n\nComparação da distribuição de práticas de gestão agrícola entre diferentes tipos de cultivares de café, destacando variações e padrões nas preferências de gestão em diferentes contextos de cultivo.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggthemes)\ncr %>% \n  count(farm_management, cultivar) %>% \n   ggplot(aes(cultivar, n, fill=farm_management,\n              label=n))+\n  geom_col(position = \"dodge2\")+\n    scale_fill_colorblind()+\n  theme_bw()+\n  theme(strip.text.x= element_blank(),\n        legend.position = \"top\")+\n  geom_text(position = position_dodge(width = 0.8))+facet_wrap(~cultivar,scales= \"free_x\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Gráfico de média e distribuição\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gsheet)\nmg <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\nmg %>% \n  group_by(trat) %>% \n  summarise(mean_comp=mean(comp),\n            sd_comp=sd(comp)) %>% \n  ggplot(aes(trat,mean_comp))+\n  geom_col(fill= \"steelblue\" , width= 0.5)+\n  geom_point(size=3)+\n  ylim(0, 20)+\n  geom_errorbar(aes(ymin=mean_comp - sd_comp,\n                    ymax=mean_comp +sd_comp),\n                width=0.02)+\n  annotate(geom=\"text\",\n           x=1, y= 17.5,\n           label= \"*\")\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nmg %>% \n  ggplot(aes(trat, comp))+\n  geom_jitter(width=0.1)\n```\n\n::: {.cell-output-display}\n![](aula4_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nmg\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 20 × 3\n   trat      rep  comp\n   <chr>   <dbl> <dbl>\n 1 Mg2         1   9  \n 2 Mg2         2  12.5\n 3 Mg2         3  10  \n 4 Mg2         4   8  \n 5 Mg2         5  13.2\n 6 Mg2         6  11  \n 7 Mg2         7  10.8\n 8 Mg2         8   9.5\n 9 Mg2         9  10.8\n10 Mg2        10  10.4\n11 control     1  13.7\n12 control     2  15.9\n13 control     3  15.7\n14 control     4  14.2\n15 control     5  15.9\n16 control     6  16.5\n17 control     7  18  \n18 control     8  14.4\n19 control     9  16.4\n20 control    10  16  \n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}